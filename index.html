<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADC Style Mock Exam</title>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .exam-container {
            width: 90%;
            max-width: 1200px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        .exam-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: #004d99;
            color: white;
            border-bottom: 3px solid #ffcc00;
        }
        .exam-title { font-weight: bold; font-size: 1.1em; }
        .timer-section { font-size: 1.2em; }
        .timer-display { font-weight: bold; color: #ffcc00; margin-left: 10px; }
        .exam-main { display: flex; min-height: 600px; }
        .question-panel { flex-grow: 1; padding: 30px; border-right: 1px solid #ddd; }
        .question-text { font-size: 1.2em; font-weight: 500; margin-bottom: 25px; line-height: 1.5; }
        .options-form { display: flex; flex-direction: column; }
        .option-label {
            display: block;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .option-label:hover { background-color: #f5f5f5; }
        .option-label input[type="radio"] { margin-right: 15px; transform: scale(1.2); }
        .status-panel { width: 280px; padding: 20px; background-color: #f7f7f7; text-align: center; }
        .status-panel h4 {
            color: #004d99;
            margin-top: 0;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .question-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        .q-btn {
            padding: 10px;
            border: 2px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            color: white;
            transition: transform 0.1s;
        }
        .q-btn:active { transform: scale(0.95); }
        .answered { background-color: #4CAF50; }
        .flagged { background-color: #FFC107; }
        .unanswered { background-color: #AAAAAA; }
        .current {
            background-color: #007bff;
            border-color: #d9534f;
        }
        .finish-btn {
            width: 100%;
            padding: 12px;
            background-color: #d9534f;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
        }
        .exam-footer {
            display: flex;
            justify-content: space-between;
            padding: 15px 20px;
            background-color: #e9e9e9;
            border-top: 1px solid #ddd;
        }
        .nav-btn, .flag-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .nav-btn.next { background-color: #007bff; color: white; }
        .nav-btn.prev { background-color: #6c757d; color: white; }
        .flag-btn { background-color: #f0ad4e; color: #333; }
        .nav-btn[disabled] { opacity: 0.5; cursor: not-allowed; }
    </style>
</head>
<body>

<div class="exam-container">
    <header class="exam-header">
        <div class="exam-info">
            <span class="exam-title">ADC Simulated Test - Block A</span>
            <span class="question-number">Question 1 of 5</span>
        </div>
        <div class="timer-section">
            <label for="time-remaining">Time Remaining:</label>
            <span id="time-remaining" class="timer-display">03:00:00</span>
        </div>
    </header>
    
    <main class="exam-main">
        <div class="question-panel">
            <p class="question-text">Loading question...</p>
            <form class="options-form"></form>
        </div>
        <aside class="status-panel">
            <h4>Question Navigation</h4>
            <div class="question-grid"></div>
            <button class="finish-btn">End Exam</button>
        </aside>
    </main>
    
    <footer class="exam-footer">
        <button class="nav-btn prev" disabled>‚Üê Previous</button>
        <button class="flag-btn">üö© Flag for Review</button>
        <button class="nav-btn next">Next ‚Üí</button>
    </footer>
</div>

<script>
    const quizQuestions = [
        {
            id: 1,
            text: "Q1: A 35-year-old patient presents with a localised, well-demarcated area of gingival enlargement on the buccal aspect of the maxillary right first molar. The lesion is firm, pale pink, and has been present for 6 months. What is the most likely diagnosis?",
            options: ["Chronic hyperplastic pulpitis", "Pyogenic granuloma", "Peripheral ossifying fibroma", "Recurrent aphthous stomatitis"]
        },
        {
            id: 2,
            text: "Q2: Which local anaesthetic is preferred for a patient with a documented history of methemoglobinemia when extensive dental work is required?",
            options: ["Prilocaine", "Lidocaine", "Articaine", "Benzocaine"]
        },
        {
            id: 3,
            text: "Q3: In paediatric dentistry, what is the recommended management for an enamel-dentin fracture of a permanent incisor with a positive pulpal sensitivity test and no radiographic sign of pulp exposure?",
            options: ["Direct pulp cap with MTA", "Apexification procedure", "Protective layer (e.g., glass ionomer) and permanent restoration", "Pulpotomy with formocresol"]
        },
        {
            id: 4,
            text: "Q4: A patient taking warfarin requires non-surgical scaling and root planing. What is the most important value to check, and what is the generally accepted safe threshold for this procedure?",
            options: ["Platelet count; > 150,000", "APTT; Ratio < 1.5", "INR; ‚â§ 3.5", "Bleeding Time; < 5 minutes"]
        },
        {
            id: 5,
            text: "Q5: Which of the following is the most definitive diagnostic feature of an early (incipient) carious lesion on an approximal surface radiographically?",
            options: ["Radiopacity in the enamel", "A radiolucent notch confined to the outer half of the enamel", "A wide radiolucent band reaching the DEJ", "Sclerosis of the underlying dentin"]
        }
        // ADD MORE QUESTIONS HERE FOR A FULL TEST
    ];

    const userState = quizQuestions.map(q => ({
        status: 'unanswered', // can be 'unanswered', 'answered', 'flagged'
        selectedAnswer: null
    }));

    let currentQuestionIndex = 0;
    const totalQuestions = quizQuestions.length;

    function renderNavigation() {
        const grid = document.querySelector('.question-grid');
        grid.innerHTML = '';
        userState.forEach((state, index) => {
            const btn = document.createElement('button');
            btn.textContent = index + 1;
            btn.className = 'q-btn';
            
            // Set base class for color (answered, flagged, unanswered)
            btn.classList.add(state.status);

            // Add 'current' class if it's the current question
            if (index === currentQuestionIndex) {
                btn.classList.add('current');
            }

            btn.addEventListener('click', () => {
                currentQuestionIndex = index;
                loadQuestion(currentQuestionIndex);
            });
            grid.appendChild(btn);
        });
    }

    function loadQuestion(index) {
        const question = quizQuestions[index];
        const state = userState[index];
        
        document.querySelector('.question-number').textContent = `Question ${question.id} of ${totalQuestions}`;
        document.querySelector('.question-panel .question-text').textContent = question.text;
        
        const optionsForm = document.querySelector('.options-form');
        optionsForm.innerHTML = '';

        question.options.forEach((optionText, i) => {
            const letter = String.fromCharCode(65 + i);
            const isChecked = state.selectedAnswer === i;
            const optionHTML = `
                <label class="option-label">
                    <input type="radio" name="q-answer" value="${i}" ${isChecked ? 'checked' : ''}>
                    ${letter}) ${optionText}
                </label>
            `;
            optionsForm.insertAdjacentHTML('beforeend', optionHTML);
        });

        optionsForm.addEventListener('change', (e) => {
            const selectedIndex = parseInt(e.target.value, 10);
            userState[currentQuestionIndex].selectedAnswer = selectedIndex;
            if (userState[currentQuestionIndex].status !== 'flagged') {
                userState[currentQuestionIndex].status = 'answered';
            }
            renderNavigation();
        });

        document.querySelector('.nav-btn.prev').disabled = (index === 0);
        document.querySelector('.nav-btn.next').disabled = (index === totalQuestions - 1);

        renderNavigation();
    }
    
    function startTimer(duration, display) {
        let timer = duration;
        setInterval(() => {
            if (timer < 0) return;
            const hours = String(Math.floor(timer / 3600)).padStart(2, '0');
            const minutes = String(Math.floor((timer % 3600) / 60)).padStart(2, '0');
            const seconds = String(timer % 60).padStart(2, '0');
            display.textContent = `${hours}:${minutes}:${seconds}`;
            timer--;
        }, 1000);
    }

    window.onload = function () {
        startTimer(60 * 60 * 3, document.querySelector('#time-remaining'));

        document.querySelector('.nav-btn.next').addEventListener('click', () => {
            if (currentQuestionIndex < totalQuestions - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            }
        });

        document.querySelector('.nav-btn.prev').addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        });
        
        document.querySelector('.flag-btn').addEventListener('click', () => {
             const currentState = userState[currentQuestionIndex].status;
             if (currentState === 'flagged') {
                 // Unflag the question
                 userState[currentQuestionIndex].status = userState[currentQuestionIndex].selectedAnswer !== null ? 'answered' : 'unanswered';
             } else {
                 // Flag the question
                 userState[currentQuestionIndex].status = 'flagged';
             }
             renderNavigation();
        });
        
        loadQuestion(currentQuestionIndex);
    };
</script>
</body>
</html>
